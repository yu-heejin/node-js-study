## OS 모듈 - 코어 개수 확인하기

- os.cpus().length를 하면 코어의 개수가 숫자로 나온다.
- 하지만, 노드에서 싱글 스레드 프로그래밍을 하면 코어가 몇 개든 상관없이 대부분의 경우 코어를 하나밖에 사용하지 않는다.
- cluster 모듈을 사용하는 경우 코어 개수에 맞춰서 프로세스를 늘릴 수 있다.
    - 이때 cpus() 메서드를 사용한다.

## path

- 폴더와 파일의 경로를 쉽게 조작하도록 도와주는 모듈
- path 모듈이 필요한 이유는 운영체제별로 경로 구분자가 다르기 때문이다.
- 이 외에도 파일 경로에서 파일명이나 확장자만 따로 떼어주는 기능도 구현하기 때문에 직접 구현하지 않고도 편리하게 사용할 수 있다.
- 가끔 윈도우에서 POSIX 스타일 경로를 사용할 때가 있고, 그 반대일 때도 있다.
    - 이러한 경우 **윈도우에서는 path.posix.sep이나 path.posix.join()**과 같이 사용하면 되고, **POSIX에서는 path.win32.sep이나 path.win32.join()**과 같이 사용하면 된다.
- 노드는 require.main 파일을 기준으로 상대경로를 인식한다.
    - 따라서 require.main과는 다른 디렉터리의 파일이 상대경로를 가지고 있다면 예상과 다르게 동작할 수 있다.

### join vs resolve

- path.join과 path.resolve 메서드는 비슷해보이지만 동작 방식이 다르다.
- / 를 만나면 path.resolve는 절대 경로로 인식해서 앞의 경로를 무시하고 path.join은 상대경로로 처리한다.
    
    ```jsx
    path.join('/a', '/b', 'c');   // /a/b/c/
    path.resolve('/a', '/b', 'c');  // /b/c
    ```
    

## url

- 인터넷 주소를 쉽게 조작하도록 도와주는 모듈
- url 처리에는 크게 두 가지 방식이 있다.
    1. **노드 버전 7에서 추가되는 WHATWG(웹 표준을 정하는 단체 이름)방식의 url** → 요즘 많이 사용
        1. **브라우저에서도 해당 방식을 사용하기 때문에 호환성이 좋다.**
    2. 예전부터 노드에서 사용하던 방식의 url
- 주소가 host 부분 없이 pathname 부분만 오는 경우(ex. /book/bookList.apsx), WHATWG 방식은 해당 주소를 처리할 수 없다.
    - 만약 host부분 없이 pathname만 있는 경우 두 번째 인수로 host를 적어줘야 한다.
        
        ```tsx
        new URL('/book/bookList.aspx', 'https://www.gilbut.co.kr');
        ```
        

### WHATWG과 노드의 주소 체계

- 주소의 각 부분별 명칭은 다음과 같다.
    
    ![KakaoTalk_Photo_2023-03-20-10-13-22.jpeg](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/08e1be02-2203-49d2-8abd-6d1b8d6e6358/KakaoTalk_Photo_2023-03-20-10-13-22.jpeg)
    
- search 부분(쿼리스트링)은 보통 주소를 통해 데이터를 전달할 때 사용한다.
    - search는 물음표로 시작하고 그 뒤에 키=값 형식으로 데이터를 전달한다.
    - 여러 키가 있을 경우 &로 구분한다.
    - search부분을 다루기 위해 searchParams라는 특수한 객체가 생성된다.

## dns

- DNS를 다룰 때 사용하는 모듈
- 주로 도메인을 통해 IP나 기타 DNS 정보를 얻고자할 때 사용한다.

## crypto

- 다양한 방식의 암호화를 도와주는 모듈이다.

### 단방향 암호화

- 비밀번호는 보통 단방향 암호화 알고리즘을 사용하여 암호화한다.
- **단방향 암호화란 복호화할 수 없는 암호화 방식**을 의미한다.
    - 복호화는 암호화된 문자열을 원래 문자열로 되돌려놓는 것을 의미한다.
    - 즉, **단방향 암호화는 한번 암호화하면 원래 문자열을 찾을 수 없다.**
    - 복호화할 수 없기 때문에 암호화라고 표현하는 대신 **해시 함수**라고 부르기도 한다.
- 고객 비밀번호의 경우 복호화할 필요가 없기 때문에 단방향을 사용한다.
    - 고객의 비밀번호를 암호화하여 DB에 저장하고, 로그인할 때마다 입력받은 비밀번호를 같은 암호화 알고리즘으로 암호화한 후, DB의 비밀번호와 비교한다.
- 단방향 암호화 알고리즘은 주로 해시 기법을 사용한다.
    - 해시 기법이란 어떤 문자열을 고정된 길이의 다른 문자열로 바꿔버리는 방식
    - **입력 문자열의 길이는 다르지만, 출력 문자열의 길이는 고정되어 있다.**