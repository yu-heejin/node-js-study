## 노드의 특성과 장단점

| 장점 | 단점 |
| --- | --- |
| 멀티 스레드 방식에 비해 적은 컴퓨터 자원 사용 | 기본적으로 싱글 스레드이기 때문에 CPU 코어를 하나만 사용 |
| I/O 작업이 많은 서버로 적합 | CPU 작업이 많은 서버로는 부적합 |
| 멀티 스레드 방식보다 쉽다. | 하나뿐인 스레드가 멈추지 않도록 관리 필요 |
| 웹 서버가 내장되어 있다. | 서버 규모가 커졌을 때 서버를 관리하기 어렵다. |
| 자바스크립트를 사용한다 | 어중간한 성능 |
| JSON 형식과 쉽게 호환된다. |  |
- 노드는 기본적으로 싱글 스레드, 논블로킹 모델을 사용한다.
    - 이는 자바스크립트 언어의 특성이기도 하다.
    - 따라서 노드 서버의 장단점은 싱글 스레드, 논블로킹 모델의 장단점과 다르지 않다.
- 서버에는 기본적으로 I/O 요청이 많이 발생하므로, I/O 처리를 잘 하는 노드를 서버로 사용하면 좋다.
    - 노드는 논블로킹 방식으로 코드를 작성했다는 가정하에 libuv 라이브러리를 사용해 I/O 작업을 논블로킹 방식으로 처리한다.
    - 따라서 스레드 하나가 많은 수의 I/O를 혼자서도 감당할 수 있다.
- 하지만, 노드는 CPU 부하가 큰 작업에는 적합하지 않다.
    - 우리가 작성하는 코드는 모두 스레드 하나에서 처리된다.
    - 코드가 CPU 연산을 많이 요구하면 스레드 하나가 혼자서 감당하기 어렵다.
- 노드는 개수는 많지만 크기는 작은 데이터를 실시간으로 주고받는 데 적합하다.
    - 네트워크나 데이터베이스, 디스크 작업 같은 I/O에 특화되어 있기 때문이다.
    - 실시간 채팅 애플리케이션이나 주식 차트, JSON 데이터를 제공하는 API 서버가 노드를 많이 사용한다.
- 노드 12 버전에서 워커 스레드 기능의 안정화로 멀티 스레드 작업을 할 수 있게 되었지만, 멀티 스레드 프로그래밍을 하는 것은 싱글 스레드에 비해 난이도가 높다.
    - 스레드가 작업을 나눠서 처리할 수 있게 직접 나눠주는 것도 상당히 어렵다.
    - 또한, 멀티 스레드 프로그래밍을 하더라도 C, C++, Go와 같은 언어에 비해 속도가 많이 느리다.
    - 따라서 **멀티 스레드 기능이 있다고 할지라도 이미지나 비디오 처리, 대규모 데이터 처리와 같이 CPU를 많이 사용하는 작업을 위한 서버로는 권장하지 않는다.**
    - 굳이 노드를 사용하고 싶다면, AWS 람다나 구글 클라우든 평션스와 같은 서비스에서 노드로 CPU를 많이 사용하는 작업을 처리하도록 할 수 있다.
- 싱글 스레드 방식의 프로그래밍은 멀티 스레드 방식보다 상대적으로 쉽기 때문에 서버 프로그래밍에 익숙하지 않은 사람도 쉽게 입문할 수 있다.
    - 단, 싱글 스레드 방식으로 서버를 운영할 땐 하나뿐인 스레드가 에러로 인해 멈추지 않도록 잘 관리해야 한다.
    - 에러를 제대로 처리하지 못하면 하나뿐인 스레드가 죽어 서버 전체가 멈추기 때문이다.
- 노드에는 웹 서버가 내장되어 있어 입문자가 쉽게 접근할 수 있다.
    - 서버를 개발하다보면 아파치, nginx와 같은 별도의 웹 서버를 설치해야하는 경우가 발생한다.
    - 추가적으로 톰캣 같은 WAS도 추가로 설치해야하는 경우도 있다.
    - 노드는 내장된 웹 서버를 사용하면 되지만, 나중에 서버 규모가 커지면 결국 nginx 등의 웹 서버를 노드 서버와 연결해야 하긴 하다.
- 노드는 생산성이 좋지만, Go처럼 비동기에 강점을 보이는 언어나 nginx처럼 정적 파일 제공, 로드 밸런싱에 특화된 웹 서버에 비해서는 속도가 느리다.
- 노드는 자바스크립트를 사용하기 때문에 생산성이 좋고, JSON 역시 자바스크립트 형식이기 때문에 노드에서 쉽게 처리할 수 있다.